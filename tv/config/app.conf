# ===================================
# Archivo de configuración de la aplicación (formato .conf)
# Cada línea debe ser KEY=VALUE. Se permiten comentarios con #, // o ;
# Las variables aquí definidas se cargarán en process.env una sola vez.
# ===================================

# ===================================
# CONFIGURACIÓN DE FUENTE DE DATOS
# ===================================
ENABLE_BACKUP=false
# Opciones: 'csv', 'm3u', 'remote_m3u', 'hybrid', 'automatic'
CHANNELS_SOURCE=hybrid
AUTO_M3U_URL=https://iptv-org.github.io/iptv/languages/spa.m3u
CHANNELS_FILE=data/channels.csv
BACKUP_M3U_URL=
# URLs M3U remotas
M3U_URL6=http://201.230.121.186:8000/playlist.m3u8
M3U_URL1=http://190.102.246.93:9005/playlist.m3u8
M3U_URL2=http://181.189.244.253:8000/playlist.m3u8
M3U_URL3=http://181.189.244.252:8000/playlist.m3u8
M3U_URL4=http://38.183.182.166:8000/playlist.m3u8
M3U_URL5=http://181.119.108.27:8000/playlist.m3u8
# Archivos M3U locales
LOCAL_M3U_LATAM1=
LOCAL_M3U_LATAM2=
LOCAL_M3U_LATAM3=
LOCAL_M3U_LATAM4=
LOCAL_M3U_INDEX=

# Archivo CSV local adicional
LOCAL_CHANNELS_CSV=

# Archivo CSV de canales validados
VALIDATED_CHANNELS_CSV=data/tv.csv

# Directorio de salida para archivos M3U8 por canal
PER_CHANNEL_M3U8_DIR=data/m3u8

# ===================================
# CONFIGURACIÓN DE TV EN VIVO
# ===================================
DEFAULT_QUALITY=HD
CACHE_CHANNELS_HOURS=6
STREAM_TIMEOUT_SECONDS=30
ENABLE_ADULT_CHANNELS=false
MAX_CONCURRENT_STREAMS=100

# ===================================
# CONFIGURACIÓN DE CANALES PRIORITARIOS
# ===================================
# Lista de canales que aparecerán primero en tv.csv (separados por comas)
# Usar el nombre exacto del canal como aparece en el CSV
PRIORITY_CHANNELS=AMAZONICA TV IQUITOS,KARIBEÑA,LATINA,AMERICA,PANAMERICANA,ATV,Disney Channel,Negocios TV,LIGA1-MAX,ESPN Premium

# Orden personalizado de categorías para tv.csv (separadas por comas)
# Las categorías no listadas aparecerán al final en orden alfabético
CATEGORY_ORDER=Deportes,TV Premium,Infantil,TV Local,Noticias,Entretenimiento,Películas,Música


# ===================================
# CONFIGURACIÓN DE DEDUPLICACIÓN
# ===================================
ENABLE_INTELLIGENT_DEDUPLICATION=true
DEDUPLICATION_STRATEGY=prioritize_working
DEDUPLICATION_IGNORE_FILES=data/channels.csv

# Archivo CSV de canales validados
VALIDATED_CHANNELS_CSV=data/tv.csv

# ===================================
# CONFIGURACIÓN DE CACHE
# ===================================
STREAM_CACHE_MAX_AGE=86400
META_CACHE_MAX_AGE=86400
MANIFEST_CACHE_MAX_AGE=86400
STREAM_STALE_REVALIDATE=300
STREAM_STALE_ERROR=900

# ===================================
# CONFIGURACIÓN DE LOGOS Y ASSETS
# ===================================
LOGO_CDN_URL=https://cdn.example.com/logos/
FALLBACK_LOGO=https://via.placeholder.com/512x512?text=TV
LOGO_CACHE_HOURS=24
AUTO_FETCH_LOGOS=true

# Directorios de salida para assets generados (rutas relativas al directorio tv/ por defecto)
# Estas rutas pueden ser absolutas; si son relativas, se resolverán respecto al cwd de la librería (normalmente tv/)
LOGO_OUTPUT_DIR=../static/logos
BACKGROUND_OUTPUT_DIR=../static/background
POSTER_OUTPUT_DIR=../static/poster

# ===================================
# FILTROS GEOGRÁFICOS Y DE CONTENIDO
# ===================================
ALLOWED_COUNTRIES=
BLOCKED_COUNTRIES=
DEFAULT_LANGUAGE=ES
SUPPORTED_LANGUAGES=

# Sistema de filtros de contenido
FILTER_RELIGIOUS_CONTENT=true
FILTER_ADULT_CONTENT=true
FILTER_POLITICAL_CONTENT=true

# Keywords para filtros
RELIGIOUS_KEYWORDS=jesus,cristo,dios,iglesia,cristian,catolica,evangelica,santo,santa,san,church,christian,catholic,evangelical,bible,faith,priest,pastor,gospel,fe,cristo,biblia,pastor,evangelio,misa,oracion,bendicion
ADULT_KEYWORDS=xxx,porn,adult,sexy,hot,erotic,nude,+18,adulto,erotico,sexual,porno,caliente,desnudo,sensual
POLITICAL_KEYWORDS=politica,political,gobierno,president,congreso,senado,elecciones,diputado,ministro,alcalde,gobernador,partido,campaign,election,congress,senate,mayor,governor

# ===================================
# CONFIGURACIÓN DE VALIDACIÓN DE STREAMS
# ===================================
VALIDATE_STREAMS_ON_STARTUP=true
REMOVE_INVALID_STREAMS=true
STREAM_VALIDATION_TIMEOUT=45
STREAM_VALIDATION_MAX_RETRIES=0
STREAM_VALIDATION_RETRY_DELAY=2000
VALIDATION_BATCH_SIZE=25
MAX_VALIDATION_CONCURRENCY=1

# Configuración de conversión HTTPS a HTTP
CONVERT_HTTPS_TO_HTTP=false
VALIDATE_HTTP_CONVERSION=false
HTTP_CONVERSION_TIMEOUT=20
HTTP_CONVERSION_MAX_RETRIES=1

# Configuración de validación temprana
ENABLE_EARLY_VALIDATION=true
EARLY_VALIDATION_TIMEOUT=40
EARLY_VALIDATION_CONCURRENCY=10
EARLY_VALIDATION_BATCH_SIZE=35
EARLY_VALIDATION_CACHE_SIZE=1000
EARLY_VALIDATION_CACHE_TTL=3600

# Configuración de validación de filtros
VALIDATE_BEFORE_FILTERING=false
VALIDATE_FILTERED_CHANNELS=false
VALIDATE_AFTER_FILTERING=true

# Configuración de deduplicación
NAME_SIMILARITY_THRESHOLD=0.95
URL_SIMILARITY_THRESHOLD=0.98
ENABLE_HD_UPGRADE=true
PRESERVE_SOURCE_PRIORITY=true
ENABLE_DEDUPLICATION_METRICS=true

# Timeout para descarga de playlists
PLAYLIST_FETCH_TIMEOUT=180000

# ===================================
# CONFIGURACIÓN AVANZADA
# ===================================
ENABLE_FAILOVER=false
MAX_RETRY_ATTEMPTS=3
RETRY_DELAY_MS=1000

# ===================================
# CONFIGURACIÓN DE LOGS Y MONITOREO
# ===================================
ENABLE_REQUEST_LOGGING=true
ENABLE_PERFORMANCE_METRICS=true
LOG_LEVEL=debug
LOG_FILE_PATH=logs/addon.log

# ===================================
# FILTROS DE IPS Y URLS
# ===================================
BANNED_IPS=181.188.216.5,38.180.133.31,116.90.120.149,213.57.91.138,185.236.229.62,190.123.76.22,176.65.146.237
BANNED_URLS=http://181.188.216.5:18000/play/a0hq/index.m3u8,http://181.189.244.252:8000/play/a085/index.m3u8,amagi.tv
ALLOWED_IPS=
ALLOWED_CHANNELS=
VALID_SOURCES=csv,m3u,remote_m3u,hybrid,automatic
BANNED_IP_RANGES=10.0.0.0/8,172.16.0.0/12,192.168.0.0/16,::1/128,fe80::/10
BANNED_CHANNELS=amagi,amagi.tv,willax,suran,ELIM,ABN,Diputados,Nuevo,TRADEM,PINDIN,CAMPO,CONNEC,TRANDEN,IMAX,URBANO,TIGO,SALSATV,MEDIATV,IPTV,FAST,HUNDER,METRO,REDMAX,TRAMDEN,ncm,suyai,pluto,supaya,duna,aliento,cnbc,certv,enlace,rhema,12,13,supaya,coral,cielo,chile,hch,rtv,karavana,caf,dtv,qhubo,cci,c9n,capital,ecuavisa,tc,pxtv,chv,vtv,une,tnh,ucv,VENUS,XHTVM,fight,trece,hei,zapp,tro,rtu,rcn,surtv,oriente,montecristi,ecuador,Colombia,Bethel,tele,npy,telecadena,cristo,canal,isdbt,repretel,rd,ewtn,gua,supaya,sembrador,polsat,dunya,rubix,gtv,ulica,gnnhd,gem,lahore,alaan,abu,masr,majd,yas,onyx,MIFA,ADULT,XXX,PORN,SEX,EROTIC,PLAYBOY,HUSTLER,VIVID,BRAZZERS,NAUGHTY,- Rs,Al,Saudi,Sama,Asharq,Arryadia,Bahrain,Dubai,Ad,Rotana,ksa,libya,tunisia,ien,EXTREME,VIOLENCE,GORE,HORROR,TERROR

# ===================================
# HABILITACIÓN DE FILTROS DE CANALES
# ===================================
# Habilitar/deshabilitar el sistema de filtrado de canales
ENABLE_CHANNEL_FILTERING=true

# Habilitar/deshabilitar filtro de canales permitidos (solo dejar los de ALLOWED_CHANNELS)
ENABLE_ALLOWED_CHANNELS=false
# Habilitar/deshabilitar filtro de canales prohibidos (eliminar los de BANNED_CHANNELS)
ENABLE_BANNED_CHANNELS=true

# Configuraciones específicas de ignore por tipo de filtro
BANNED_CHANNELS_IGNORE_FILES=data/channels.csv

# IPs específicas que deben ser ignoradas en el filtrado por IPs baneadas (separadas por comas)
IGNORE_IPS_FOR_FILTERING=
# URLs específicas que deben ser ignoradas en el filtrado por URLs baneadas (separadas por comas)
IGNORE_URLS_FOR_FILTERING=

# Nombres de canales específicos que deben ser ignorados en el filtrado por nombres baneados (separados por comas)
IGNORE_CHANNEL_NAMES_FOR_FILTERING=

# ===================================
# CONFIGURACIÓN DE VALIDACIÓN DE LATENCIA
# ===================================
# Habilitar/deshabilitar validación de latencia por ping (true/false)
ENABLE_LATENCY_VALIDATION=false
# Umbral máximo de latencia permitida en milisegundos
MAX_LATENCY_MS=50
# Timeout para ping en milisegundos
PING_TIMEOUT_MS=5000
# Número de reintentos para ping
PING_RETRIES=2
# Concurrencia de pings (número de pings simultáneos)
PING_CONCURRENCY=10
# Número de pings por IP para calcular promedio
PING_COUNT=3

# ===================================
# Ruta alternativa del archivo (puedes cambiarla con CONFIG_FILE)
# CONFIG_FILE=config/app.conf